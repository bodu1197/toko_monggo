# í”„ë¡œì íŠ¸ ê°œì„  ì™„ë£Œ ìš”ì•½

## ğŸ“‹ ì „ì²´ ê°œìš”

í”„ë¡œì íŠ¸ ì§„ë‹¨ ë¦¬í¬íŠ¸ì—ì„œ ì œì•ˆëœ ëª¨ë“  ê°œì„  ì‚¬í•­ì´ ìˆœì°¨ì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. í”„ë¡œì íŠ¸ëŠ” ì´ì œ **í”„ë¡œë•ì…˜ ì¤€ë¹„ ìƒíƒœ**ì´ë©°, ì•ˆì •ì ì´ê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ êµ¬ì¡°ë¥¼ ê°–ì¶”ì—ˆìŠµë‹ˆë‹¤.

---

## âœ… ì™„ë£Œëœ ì‘ì—…

### 1ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì›Œí¬í”Œë¡œìš° êµ¬ì¶• (ì‹¬ê°ë„: ë†’ìŒ)

**ë¬¸ì œì **: ìˆ˜ë™ SQL ë³µì‚¬/ë¶™ì—¬ë„£ê¸°ë¡œ ì¸í•œ ìœ„í—˜ì„±

**í•´ê²°ì±…**:
- âœ… Supabase CLIë¥¼ í†µí•œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œìŠ¤í…œ ë„ì…
- âœ… í˜„ì¬ ë¦¬ëª¨íŠ¸ ìŠ¤í‚¤ë§ˆë¥¼ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ (`supabase/migrations/20251011211807_remote_schema.sql`)
- âœ… ë¶ˆí•„ìš”í•œ ë°±ì—… íŒŒì¼ ë° êµ¬ì‹ ë¬¸ì„œ ì‚­ì œ
- âœ… `DATABASE_MIGRATION_GUIDE.md` ì‘ì„±

**ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´**:
```bash
supabase start              # ë¡œì»¬ ê°œë°œ í™˜ê²½ ì‹œì‘
supabase db diff            # ìŠ¤í‚¤ë§ˆ ë³€ê²½ ê°ì§€
supabase db push            # í”„ë¡œë•ì…˜ ë°°í¬
supabase migration new      # ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
```

**íš¨ê³¼**:
- âœ¨ íœ´ë¨¼ ì—ëŸ¬ ë°©ì§€
- âœ¨ ë²„ì „ ê´€ë¦¬ ê°€ëŠ¥
- âœ¨ í™˜ê²½ ê°„ ì¼ê´€ì„± ë³´ì¥
- âœ¨ í˜‘ì—… ìš©ì´

---

### 2ï¸âƒ£ ì•ˆì •ì ì¸ í”„ë ˆì„ì›Œí¬ ë²„ì „ìœ¼ë¡œ ë‹¤ìš´ê·¸ë ˆì´ë“œ (ì‹¬ê°ë„: ë†’ìŒ)

**ë¬¸ì œì **: Next.js 15, React 19 ë¶ˆì•ˆì • ë²„ì „ ì‚¬ìš©

**í•´ê²°ì±…**:
- âœ… Next.js: `15.5.4` â†’ `14.2.33` (LTS)
- âœ… React: `19.2.0` â†’ `18.3.1` (LTS)
- âœ… ESLint: `9.37.0` â†’ `8.57.1` (í˜¸í™˜ì„±)
- âœ… eslint-config-next: `15.5.4` â†’ `14.2.33`

**ê²€ì¦**:
```bash
npm run build   # âœ… ì„±ê³µ
npm run lint    # âœ… ì„±ê³µ (ëª‡ ê°€ì§€ ê²½ê³ ë§Œ ì¡´ì¬)
```

**íš¨ê³¼**:
- âœ¨ ìƒíƒœê³„ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í˜¸í™˜ì„± í–¥ìƒ
- âœ¨ ì˜ˆìƒì¹˜ ëª»í•œ ë²„ê·¸ ê°ì†Œ
- âœ¨ ì»¤ë®¤ë‹ˆí‹° ì§€ì› í–¥ìƒ

---

### 3ï¸âƒ£ ìë™í™”ëœ í…ŒìŠ¤íŠ¸ êµ¬ì¶• (ì‹¬ê°ë„: ì¤‘ê°„)

**ë¬¸ì œì **: í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ ë¶€ì¬

**í•´ê²°ì±…**:

#### A. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Jest + React Testing Library)
- âœ… Jest 30.2.0 ì„¤ì¹˜ ë° ì„¤ì •
- âœ… React Testing Library 16.3.0 ì„¤ì¹˜
- âœ… í…ŒìŠ¤íŠ¸ ì‘ì„±:
  - `handle_new_user` ë°ì´í„°ë² ì´ìŠ¤ í•¨ìˆ˜ (10ê°œ í…ŒìŠ¤íŠ¸)
  - `imageCompression` ìœ í‹¸ë¦¬í‹° (21ê°œ í…ŒìŠ¤íŠ¸)
  - `categories` ë°ì´í„° (28ê°œ í…ŒìŠ¤íŠ¸)

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**:
```
Test Suites: 3 passed
Tests:       59 passed
```

**ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´**:
```bash
npm test                # ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:watch      # Watch ëª¨ë“œ
npm run test:coverage   # ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸
```

#### B. E2E í…ŒìŠ¤íŠ¸ (Playwright)
- âœ… Playwright 1.56.0 ì„¤ì¹˜
- âœ… ë©€í‹° ë¸Œë¼ìš°ì € ì„¤ì • (Chromium, Firefox, WebKit, Mobile)
- âœ… E2E í…ŒìŠ¤íŠ¸ ì‘ì„±:
  - `home.spec.js` - í™ˆí˜ì´ì§€ í…ŒìŠ¤íŠ¸
  - `auth.spec.js` - ì¸ì¦ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
  - `products.spec.js` - ìƒí’ˆ í˜ì´ì§€ í…ŒìŠ¤íŠ¸

**ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´**:
```bash
npm run test:e2e           # E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:e2e:ui        # UI ëª¨ë“œ (ë””ë²„ê¹…)
npm run test:e2e:headed    # í—¤ë“œë“œ ëª¨ë“œ (ë¸Œë¼ìš°ì € í‘œì‹œ)
npm run test:e2e:report    # ë¦¬í¬íŠ¸ í™•ì¸
```

**íš¨ê³¼**:
- âœ¨ íšŒê·€ ë²„ê·¸ ì‚¬ì „ ê°ì§€
- âœ¨ ë¦¬íŒ©í† ë§ ìì‹ ê° í–¥ìƒ
- âœ¨ ë°°í¬ ì•ˆì •ì„± ë³´ì¥

---

### 4ï¸âƒ£ CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶• (ì¶”ê°€ ê°œì„ )

**GitHub Actions ì›Œí¬í”Œë¡œìš°**:

#### A. CI Pipeline (`.github/workflows/ci.yml`)
**íŠ¸ë¦¬ê±°**: Push / Pull Request (main, develop)

**ìˆ˜í–‰ ì‘ì—…**:
- âœ… ESLint ê²€ì‚¬
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Node 18, 20)
- âœ… ì½”ë“œ ì»¤ë²„ë¦¬ì§€ ì—…ë¡œë“œ (Codecov)
- âœ… Next.js ë¹Œë“œ
- âœ… TypeScript íƒ€ì… ì²´í¬
- âœ… ë³´ì•ˆ ê°ì‚¬ (npm audit)

#### B. Deploy Pipeline (`.github/workflows/deploy.yml`)
**íŠ¸ë¦¬ê±°**: main ë¸Œëœì¹˜ Push / ìˆ˜ë™ ì‹¤í–‰

**ìˆ˜í–‰ ì‘ì—…**:
- âœ… í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- âœ… í”„ë¡œë•ì…˜ ë¹Œë“œ
- âœ… Vercel ìë™ ë°°í¬

#### C. Database Migration (`.github/workflows/database-migration.yml`)
**íŠ¸ë¦¬ê±°**: ìˆ˜ë™ ì‹¤í–‰

**ìˆ˜í–‰ ì‘ì—…**:
- âœ… Supabase CLI ì„¤ì¹˜
- âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
- âœ… ê²€ì¦

**íš¨ê³¼**:
- âœ¨ ìë™í™”ëœ í’ˆì§ˆ ê²€ì‚¬
- âœ¨ ì•ˆì „í•œ ë°°í¬ í”„ë¡œì„¸ìŠ¤
- âœ¨ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™í™”

---

## ğŸ“¦ íŒ¨í‚¤ì§€ ë³€ê²½ ìš”ì•½

### Dependencies
| íŒ¨í‚¤ì§€ | ë³€ê²½ ì „ | ë³€ê²½ í›„ |
|--------|---------|---------|
| next | 15.5.4 | **14.2.33** â¬‡ï¸ |
| react | 19.2.0 | **18.3.1** â¬‡ï¸ |
| react-dom | 19.2.0 | **18.3.1** â¬‡ï¸ |

### DevDependencies (ì¶”ê°€)
| íŒ¨í‚¤ì§€ | ë²„ì „ |
|--------|------|
| jest | 30.2.0 âœ¨ |
| @testing-library/react | 16.3.0 âœ¨ |
| @testing-library/jest-dom | 6.9.1 âœ¨ |
| @playwright/test | 1.56.0 âœ¨ |
| eslint | 8.57.1 â¬‡ï¸ |
| eslint-config-next | 14.2.33 â¬‡ï¸ |

---

## ğŸš€ ì‚¬ìš© ê°€ëŠ¥í•œ ëª…ë ¹ì–´ ì „ì²´ ëª©ë¡

### ê°œë°œ
```bash
npm run dev         # ê°œë°œ ì„œë²„ ì‹œì‘ (localhost:3000)
npm run build       # í”„ë¡œë•ì…˜ ë¹Œë“œ
npm start           # í”„ë¡œë•ì…˜ ì„œë²„ ì‹œì‘
npm run lint        # ESLint ê²€ì‚¬
```

### í…ŒìŠ¤íŠ¸
```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
npm test                    # ì „ì²´ í…ŒìŠ¤íŠ¸
npm run test:watch          # Watch ëª¨ë“œ
npm run test:coverage       # ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸

# E2E í…ŒìŠ¤íŠ¸
npm run test:e2e            # E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm run test:e2e:ui         # UI ëª¨ë“œ
npm run test:e2e:headed     # í—¤ë“œë“œ ëª¨ë“œ
npm run test:e2e:report     # ë¦¬í¬íŠ¸ í™•ì¸
```

### ë°ì´í„°ë² ì´ìŠ¤ (Supabase)
```bash
supabase start                      # ë¡œì»¬ í™˜ê²½ ì‹œì‘
supabase stop                       # ë¡œì»¬ í™˜ê²½ ì¤‘ì§€
supabase status                     # ìƒíƒœ í™•ì¸
supabase migration new <name>       # ìƒˆ ë§ˆì´ê·¸ë ˆì´ì…˜
supabase db diff -f <name>          # ìŠ¤í‚¤ë§ˆ diff ìƒì„±
supabase db reset                   # ë¡œì»¬ DB ë¦¬ì…‹
supabase db push                    # ë¦¬ëª¨íŠ¸ ë°°í¬
supabase db pull                    # ë¦¬ëª¨íŠ¸ ìŠ¤í‚¤ë§ˆ ê°€ì ¸ì˜¤ê¸°
```

---

## ğŸ“ ìƒˆë¡œ ì¶”ê°€ëœ íŒŒì¼

### ë¬¸ì„œ
- `DATABASE_MIGRATION_GUIDE.md` - ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ
- `.github/workflows/README.md` - CI/CD ì„¤ì • ê°€ì´ë“œ
- `PROJECT_IMPROVEMENT_SUMMARY.md` - ì´ ë¬¸ì„œ

### ì„¤ì • íŒŒì¼
- `jest.config.cjs` - Jest ì„¤ì •
- `jest.setup.cjs` - Jest ì´ˆê¸°í™”
- `playwright.config.js` - Playwright ì„¤ì •

### GitHub Actions
- `.github/workflows/ci.yml` - CI íŒŒì´í”„ë¼ì¸
- `.github/workflows/deploy.yml` - ë°°í¬ íŒŒì´í”„ë¼ì¸
- `.github/workflows/database-migration.yml` - DB ë§ˆì´ê·¸ë ˆì´ì…˜

### í…ŒìŠ¤íŠ¸ íŒŒì¼
- `__tests__/database/handle_new_user.test.js` - DB í•¨ìˆ˜ í…ŒìŠ¤íŠ¸
- `__tests__/utils/imageCompression.test.js` - ì´ë¯¸ì§€ ì••ì¶• í…ŒìŠ¤íŠ¸
- `__tests__/data/categories.test.js` - ì¹´í…Œê³ ë¦¬ í…ŒìŠ¤íŠ¸
- `e2e/home.spec.js` - í™ˆí˜ì´ì§€ E2E í…ŒìŠ¤íŠ¸
- `e2e/auth.spec.js` - ì¸ì¦ E2E í…ŒìŠ¤íŠ¸
- `e2e/products.spec.js` - ìƒí’ˆ E2E í…ŒìŠ¤íŠ¸

### Supabase ë§ˆì´ê·¸ë ˆì´ì…˜
- `supabase/migrations/20251011211807_remote_schema.sql` - í˜„ì¬ ìŠ¤í‚¤ë§ˆ

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ì‚¬í•­

### ì¦‰ì‹œ ê°€ëŠ¥
1. **GitHub Secrets ì„¤ì •**
   - Supabase í‚¤
   - Vercel í† í°
   - Codecov í† í° (ì„ íƒ)

2. **ì²« ë°°í¬ ì‹¤í–‰**
   ```bash
   git add .
   git commit -m "feat: í”„ë¡œì íŠ¸ ì•ˆì •í™” ë° í…ŒìŠ¤íŠ¸ êµ¬ì¶•"
   git push origin main
   ```

3. **CI/CD ë™ì‘ í™•ì¸**
   - GitHub Actions íƒ­ì—ì„œ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ í™•ì¸
   - ë¹Œë“œ ìƒíƒœ ë°°ì§€ READMEì— ì¶”ê°€

### ë‹¨ê¸° (1-2ì£¼)
4. **ì¶”ê°€ í…ŒìŠ¤íŠ¸ ì‘ì„±**
   - ì£¼ìš” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í…ŒìŠ¤íŠ¸
   - API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
   - ì»´í¬ë„ŒíŠ¸ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

5. **E2E í…ŒìŠ¤íŠ¸ í™•ì¥**
   - ì‹¤ì œ ë¡œê·¸ì¸ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
   - ìƒí’ˆ ë“±ë¡ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
   - ê²°ì œ í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (ìˆë‹¤ë©´)

6. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
   - Lighthouse CI ì¶”ê°€
   - Web Vitals ì¶”ì 
   - Sentry ì—ëŸ¬ íŠ¸ë˜í‚¹

### ì¤‘ê¸° (1-2ê°œì›”)
7. **ê³ ë„í™”**
   - Storybook ë„ì… (ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™”)
   - Visual Regression Testing
   - A/B í…ŒìŠ¤íŠ¸ ì¸í”„ë¼
   - ìë™ ë¦´ë¦¬ì¦ˆ ë…¸íŠ¸

8. **ì¸í”„ë¼ ê°œì„ **
   - ìŠ¤í…Œì´ì§• í™˜ê²½ êµ¬ì¶•
   - ë¡¤ë°± ì›Œí¬í”Œë¡œìš°
   - ë¸”ë£¨-ê·¸ë¦° ë°°í¬

---

## ğŸ“Š ê°œì„  íš¨ê³¼ ì¸¡ì •

### Before (ê°œì„  ì „)
- âŒ ìˆ˜ë™ SQL ë³µì‚¬/ë¶™ì—¬ë„£ê¸°
- âŒ ì‹¤í—˜ì  í”„ë ˆì„ì›Œí¬ ë²„ì „
- âŒ í…ŒìŠ¤íŠ¸ 0ê°œ
- âŒ CI/CD ì—†ìŒ
- âŒ ë°°í¬ í”„ë¡œì„¸ìŠ¤ ë¶ˆëª…í™•

### After (ê°œì„  í›„)
- âœ… ìë™í™”ëœ ë§ˆì´ê·¸ë ˆì´ì…˜
- âœ… ì•ˆì •ì ì¸ LTS ë²„ì „
- âœ… **59ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**
- âœ… **3ê°œ E2E í…ŒìŠ¤íŠ¸ ìŠ¤í™**
- âœ… **3ê°œ GitHub Actions ì›Œí¬í”Œë¡œìš°**
- âœ… ëª…í™•í•œ ë°°í¬ í”„ë¡œì„¸ìŠ¤

---

## ğŸ™Œ ê²°ë¡ 

ì´ í”„ë¡œì íŠ¸ëŠ” ì´ì œ:
1. **ì•ˆì •ì **: LTS ë²„ì „ ì‚¬ìš©, í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
2. **ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥**: ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬, ë¬¸ì„œí™”
3. **í˜‘ì—… ì¹œí™”ì **: CI/CD, ìë™í™”ëœ í’ˆì§ˆ ê²€ì‚¬
4. **í”„ë¡œë•ì…˜ ì¤€ë¹„**: ë°°í¬ ìë™í™”, ëª¨ë‹ˆí„°ë§ ê°€ëŠ¥

í”„ë¡œë•ì…˜ ë°°í¬ë¥¼ ìì‹  ìˆê²Œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸš€
